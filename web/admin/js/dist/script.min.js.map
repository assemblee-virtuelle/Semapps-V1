{"version":3,"sources":["web/admin/js/src/class/lgvAdmin.js","web/admin/js/src/class/lgvAdminPage.js","web/admin/js/src/class/lgvAdminPageTeam.js","web/admin/js/src/class/lgvAdminPageProfile.js","web/admin/js/src/main.js"],"names":["LgvAdmin","_this","this","_classCallCheck","$","init","window","lgvAdmin","$modalConfirm","$modalConfirmBody","find","$modalConfirmValidate","LgvAdminPageTeam","LgvAdminPageProfile","message","callback","_this2","html","modal","one","LgvAdminPage","admin","name","url","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","click","e","preventDefault","userId","currentTarget","attr","modalConfirm","$toggle","toggle","getParameterByName","$form","change","submit"],"mappings":"+rDAAMA,SAAAA,WACJ,QAAAA,KAAc,GAAAC,GAAAC,IAAAC,iBAAAD,KAAAF,GAEZI,EAAE,WACAH,EAAKI,6DAMPC,OAAOC,SAAWL,KAGlBA,KAAKM,cAAgBJ,EAAE,iBACvBF,KAAKO,kBAAoBP,KAAKM,cAAcE,KAAK,qBACjDR,KAAKS,sBAAwBT,KAAKM,cAAcE,KAAK,sBAErD,GAAIE,kBAAiBV,MACrB,GAAIW,qBAAoBX,2CAGbY,EAASC,GAAU,GAAAC,GAAAd,IAC9BA,MAAKO,kBAAkBQ,KAAKH,GAC5BZ,KAAKM,cAAcU,MAAM,QACzBhB,KAAKS,sBAAsBQ,IAAI,QAAS,WACtCH,EAAKR,cAAcU,MAAM,QACzBH,+QC1BAK,aAAAA,WACJ,QAAAA,GAAYC,GAAOlB,gBAAAD,KAAAkB,GACjBlB,KAAKmB,MAAQA,kEAGIC,EAAMC,GAClBA,IACHA,EAAMjB,OAAOkB,SAASC,MAExBH,EAAOA,EAAKI,QAAQ,UAAW,OAC/B,IAAIC,GAAQ,GAAIC,QAAO,OAASN,EAAO,qBACrCO,EAAUF,EAAMG,KAAKP,EACvB,OAAKM,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,cCZnBd,iBAAAA,SAAAA,GACJ,QAAAA,GAAYS,GAAOlB,gBAAAD,KAAAU,EAAA,IAAAX,GAAA+B,2BAAA9B,MAAAU,EAAAqB,WAAAC,OAAAC,eAAAvB,IAAAwB,KAAAlC,KACXmB,GADW,OAIjBjB,GAAE,qBAAqBiC,MAAM,SAACC,GAE5BA,EAAEC,gBACF,IAAIC,GAASpC,EAAEkC,EAAEG,eAAeC,KAAK,MAErCzC,GAAKoB,MAAMsB,aAAa,2IAEsB,WAC5CrC,OAAOkB,SAASE,QAAQ,sBAAwBc,OAZnCvC,2BADUmB,cCAzBP,oBAAAA,SAAAA,GACJ,QAAAA,GAAYQ,GAAOlB,gBAAAD,KAAAW,EAAA,IAAAZ,GAAA+B,2BAAA9B,MAAAW,EAAAoB,WAAAC,OAAAC,eAAAtB,IAAAuB,KAAAlC,KACXmB,IAGFuB,EAAUxC,EAAE,uBAChBA,GAAE,sBAAsBiC,MAAM,WAC5BO,EAAQC,WAIN5C,EAAK6C,mBAAmB,SAC1BF,EAAQC,QAIV,IAAIE,GAAQ3C,EAAE,kBAfG,OAgBjB2C,GAAMrC,KAAK,sBAAsBsC,OAAO,WACtCD,EAAMrC,KAAK,QAAQuC,WAjBJhD,2BADamB,aCClC,IAAIpB","file":"script.min.js","sourcesContent":["class LgvAdmin {\n  constructor() {\n    // Wait document loaded.\n    $(()=> {\n      this.init();\n    });\n  }\n\n  init() {\n    // Save globally.\n    window.lgvAdmin = this;\n\n    // Define reused variables.\n    this.$modalConfirm = $('#modalConfirm');\n    this.$modalConfirmBody = this.$modalConfirm.find('.modal-body:first');\n    this.$modalConfirmValidate = this.$modalConfirm.find('.btn-primary:first');\n\n    new LgvAdminPageTeam(this);\n    new LgvAdminPageProfile(this);\n  }\n\n  modalConfirm(message, callback) {\n    this.$modalConfirmBody.html(message);\n    this.$modalConfirm.modal('show');\n    this.$modalConfirmValidate.one('click', () => {\n      this.$modalConfirm.modal('hide');\n      callback();\n    });\n  }\n}\n\n","class LgvAdminPage {\n  constructor(admin) {\n    this.admin = admin;\n  }\n\n  getParameterByName(name, url) {\n    if (!url) {\n      url = window.location.href;\n    }\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n      results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n}\n","class LgvAdminPageTeam extends LgvAdminPage {\n  constructor(admin) {\n    super(admin);\n\n    // On user profile, remove user button.\n    $('.team-user-delete').click((e) => {\n      // Disable default click behavior.\n      e.preventDefault();\n      var userId = $(e.currentTarget).attr('rel');\n      // Use custom modal for message.\n      this.admin.modalConfirm('Êtes-vous sûr de vouloir supprimer ce compte ? ' +\n        'Toutes les informations du profil seront perdues, ' +\n        'et le membre n\\'aura plus accès au site.', () => {\n        window.location.replace('/admin/user/delete/' + userId);\n      });\n    });\n  }\n}\n","class LgvAdminPageProfile extends LgvAdminPage {\n  constructor(admin) {\n    super(admin);\n\n    // Click on edit profile button.\n    let $toggle = $('.profileEditToSwitch');\n    $('.profileEditSwitch').click(() => {\n      $toggle.toggle();\n    });\n\n    // Display form if asked.\n    if (this.getParameterByName('edit')) {\n      $toggle.toggle();\n    }\n\n    // Change image field.\n    let $form = $('#profilePicture');\n    $form.find('input[type=\"file\"]').change(()=> {\n      $form.find('form').submit();\n    });\n  }\n}\n","// It knows what to do.\nnew LgvAdmin();\n\n"]}