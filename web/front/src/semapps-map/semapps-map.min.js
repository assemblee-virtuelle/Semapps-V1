"use strict";Polymer({is:"semapps-map",properties:{route:{type:Object,observer:"_routeChanged"},pins:{type:Array,value:[]}},attached:function(){this.ready=!1,semapps.map=this,SemAppsCarto.ready(this.start.bind(this))},start:function(){this.OSM=L.map("semapps").setView([48.862725,2.287592000000018],6),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.OSM),this.markers=L.markerClusterGroup(),this.OSM.addLayer(this.markers),this.pinAvailaible=[],this.awesome={"http://virtual-assembly.org/pair#Person":L.AwesomeMarkers.icon({icon:"user",markerColor:"blue"}),"http://virtual-assembly.org/pair#Organization":L.AwesomeMarkers.icon({icon:"tower",markerColor:"blue"}),"http://virtual-assembly.org/pair#Project":L.AwesomeMarkers.icon({icon:"screenshot",markerColor:"red"}),"http://virtual-assembly.org/pair#Event":L.AwesomeMarkers.icon({icon:"calendar",markerColor:"orange"}),"http://virtual-assembly.org/pair#Proposal":L.AwesomeMarkers.icon({icon:"info-sign",markerColor:"green"}),"http://virtual-assembly.org/pair#Document":L.AwesomeMarkers.icon({icon:"folder-open",markerColor:"black"}),"http://virtual-assembly.org/pair#DocumentType":L.AwesomeMarkers.icon({icon:"pushpin",markerColor:"black"})}},pinShowAll:function(){for(var i in this.pins)this.pins.hasOwnProperty(i)&&this.pinShow(i)},pinShow:function(i){this.pins.hasOwnProperty(i)&&this.pinAvailaible[i]?(this.markers.addLayer(this.pins[i]),this.pinAvailaible[i]=!1):(log("error: "+i+" is not a marker"),log(this.pins))},addPin:function(i,e,r,s,t){this.pinAvailaible[r]=!0,void 0!==this.awesome[t]?this.pins[r]=L.marker([i,e],{icon:this.awesome[t]}).bindPopup(s):this.pins[r]=L.marker([i,e]).bindPopup(s),this.pinShow(r)},pinShowOne:function(i){this.pinHideAll(),this.pinShow(i)},pinHide:function(i){if(log("start pinHide"),log("this.pins[key] !== undefined : "+this.pins[i]!==void 0),log("!this.pinAvailaible[key] : "+!this.pinAvailaible[i]),void 0!==this.pins[i]&&!this.pinAvailaible[i]){var e=this.pins[i];log("marker :"+e),this.markers.removeLayer(e),this.pinAvailaible[i]=!0}log("stop pinHide")},pinHideAll:function(){log("start pinHideAll"),log("pins : "+this.pins);for(var i in this.pins)log("key"+i),this.pins.hasOwnProperty(i)&&(log("pinHide"+i),this.pinHide(i));log("stop pinHideAll")}});
//# sourceMappingURL=semapps-map.min.js.map
