<dom-module id="semapps-detail-document">
  <link rel="import" type="css" href="semapps-detail-document.css">
  <link rel="import" href="../semapps-tag/semapps-tag.html">
  <template>
    <div id="semapps-detail-document">
      <div class="col col-sm-8">
        <h2>[[data.properties.preferedLabel]]</h2>
        <div class="detail-header row">
          <div class="detail-image col col-sm-4">
            <template is="dom-if" if="[[representedBy]]">
              <div class="image thumbnail"
                   style$="background-image:url('[[representedBy]]');"></div>
            </template>
          </div>
          <div class="detail-header col col-sm-8">
            <table class="detailInfo">
              <template is="dom-if" if="[[version]]">
                <tr class="field">
                  <td class="fieldLabel">version</td>
                  <td>[[version]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[comment]]">
                <tr class="field">
                  <td class="fieldLabel">Commentaire</td>
                  <td>[[comment]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[homePage]]">
                <tr class="field">
                  <td class="fieldLabel">Site web</td>
                  <td><a href="[[homePage]]" target="_blank">[[homePage]]</a>
                  </td>
                </tr>
              </template>
              <template is="dom-if" if="[[licence]]">
                <tr class="field">
                  <td class="fieldLabel">Licence</td>
                  <td>[[licence]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[publicationDate]]">
                <tr class="field">
                  <td class="fieldLabel">Date de publication</td>
                  <td>[[publicationDate]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[format]]">
                <tr class="field">
                  <td class="fieldLabel">Format</td>
                  <td>[[format]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[language]]">
                <tr class="field">
                  <td class="fieldLabel">Langage</td>
                  <td>[[language]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[external_document_author]]">
                <tr class="field">
                  <td class="fieldLabel">Auteur (hors application)</td>
                  <td>[[external_document_author]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[external_document_contributor]]">
                <tr class="field">
                  <td class="fieldLabel">Contributeur (hors application)</td>
                  <td>[[external_document_contributor]]</td>
                </tr>
              </template>
              <template is="dom-if" if="[[external_document_publisher]]">
                <tr class="field">
                  <td class="fieldLabel">Editeur (hors application)</td>
                  <td>[[external_document_publisher]]</td>
                </tr>
              </template>

              <template is="dom-if" if="[[allowUri]]">
                <template is="dom-if" if="[[data.uri]]">
                  <tr class="field">
                    <td class="fieldLabel">uri</td>
                    <td>[[data.uri]]</td>
                  </tr>
                </template>
              </template>
            </table>
          </div>
          <template is="dom-if" if="[[description]]">
            <div class="detail-description col col-sm-12">
              <div class="detail-description-inner">
                <template is="juicy-html" content$="{{description}}"></template>
              </div>
            </div>
          </template>
        </div>
      </div>
      <div class="col col-sm-4 side-blocks">
        <template is="dom-if" if="[[data.internal_document_author.person.length]]">
          <h3>Auteur ( personne )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_author.person}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <template is="dom-if" if="[[data.internal_document_author.organization.length]]">
          <h3>Auteur ( organisation )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_author.organization}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <template is="dom-if" if="[[data.internal_document_contributor.person.length]]">
          <h3>Contributeur ( personne )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_contributor.person}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <template is="dom-if" if="[[data.internal_document_contributor.organization.length]]">
          <h3>Contributeur ( organisation )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_contributor.organization}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <template is="dom-if" if="[[data.internal_document_publisher.person.length]]">
          <h3>Editeur ( personne )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_publisher.person}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <template is="dom-if" if="[[data.internal_document_publisher.organization.length]]">
          <h3>Editeur ( organisation )</h3>
          <div class="thumbs">
            <template is="dom-repeat" items="{{data.internal_document_publisher.organization}}">
              <semapps-avatar image="[[item.image]]" uri="[[item.uri]]"
                              label="[[item.name]]"></semapps-avatar>
            </template>
          </div>
          <div class="clearfix"></div>
        </template>
        <!-- documents -->
        <template is="dom-if" if="[[data.documents.organization.length]]">
          <h3>Sujet du document ( organisation )</h3>

            <template is="dom-repeat" items="{{data.documents.organization}}">
              <a href="#" rel="{{item.uri}}" on-click="handleClickDetail"
                 class="list-item">
                <span class="glyphicon glyphicon-chevron-right"></span>{{item.name}}</a>
            </template>
            <div class="clearfix"></div>

        </template>
        <template is="dom-if" if="[[data.documents.project.length]]">
          <h3>Sujet du document ( projet )</h3>
          <div>
            <template is="dom-repeat" items="{{data.documents.project}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="project"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <template is="dom-if" if="[[data.documents.event.length]]">
          <h3>Sujet du document ( événement )</h3>
          <div>
            <template is="dom-repeat" items="{{data.documents.event}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="event"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <template is="dom-if" if="[[data.documents.proposal.length]]">
          <h3>Sujet du document ( proposition )</h3>
          <div>
            <template is="dom-repeat" items="{{data.documents.proposal}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="proposal"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <!-- end of documents -->
        <template is="dom-if" if="[[hasInterest.length]]">
          <h3>Centres d'intérêts</h3>
          <div>
            <template is="dom-repeat" items="{{hasInterest}}">
              <semapps-tag uri="{{ item.uri }}" route="onClickThematic" name="{{item.name}}" type="dbpedia"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <template is="dom-if" if="[[hasSubject.length]]">
          <h3>Mots-clés</h3>
          <div>
            <template is="dom-repeat" items="{{hasSubject}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickRessource" name="{{item.name}}" type="dbpedia"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <!-- references -->
        <template is="dom-if" if="[[data.references.document.length]]">
          <h3>Lien bibliographique</h3>
          <div>
            <template is="dom-repeat" items="{{data.references.document}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="document"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <!-- end of references -->
        <!-- referencesBy -->
        <template is="dom-if" if="[[data.referencesBy.document.length]]">
          <h3>Document(s) citant ce document</h3>
          <div>
            <template is="dom-repeat" items="{{data.referencesBy.document}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="document"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <!-- end of referencesBy -->
        <!-- hasType -->
        <template is="dom-if" if="[[data.hasType.documentType.length]]">
          <h3>Type</h3>
          <div>
            <template is="dom-repeat" items="{{data.hasType.documentType}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="documentType"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <!-- end of hasType -->
        <template is="dom-if" if="[[data.subjectOfPAIR.proposal.length]]">
          <h3>Est concerné par ( Propositions )</h3>
          <div>
            <template is="dom-repeat" items="{{data.subjectOfPAIR.proposal}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="proposal"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
        <template is="dom-if" if="[[data.subjectOfPAIR.event.length]]">
          <h3>Est concerné par ( événements )</h3>
          <div>
            <template is="dom-repeat" items="{{data.subjectOfPAIR.event}}">
              <semapps-tag uri="{{ item.uri }}" route="handleClickDetail" name="{{item.name}}" type="event"></semapps-tag>
            </template>
            <div class="clearfix"></div>
          </div>
        </template>
      </div>
    </div>
  </template>
  <script src="semapps-detail-document.min.js"></script>
</dom-module>
