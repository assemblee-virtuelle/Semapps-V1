"use strict";Polymer({is:"semapps-detail",properties:{id:String,title:String,description:String,queryParams:{observer:"_queryChanged"}},_queryChanged:function(e){var t=this;e&&e.uri&&SemAppsCarto.ready(function(){t.detailLoad(e.uri)})},handleBack:function(e){e.preventDefault(),semapps.goSearch()},handleEdit:function(e){e.preventDefault();var t="/";switch(semapps.entities[this.child.type].nameType){case"organization":t+="mon-compte/organisation/form/"+this.id}window.location.replace(t)},attached:function(){var e=this;SemAppsCarto.ready(function(){semapps.initElementGlobals(e)})},detailLoad:function(e){var t=this;-1!==window.location.pathname.indexOf("detail")&&(semapps.myRoute="detail"),"detail"===semapps.myRoute&&(this.loading=!0,this.$.detail.style.display="none",semapps.ajax("webservice/detail?uri="+e,function(e){t.detailLoadComplete(e)}))},detailLoadComplete:function(e){if(semapps.scrollToContent(),semapps.map.pinHideAll(),e=e.responseJSON.detail||{},this.$.detail.style.display="",e.properties.image=semapps.imageOrFallback(e.properties.image,e.properties.type),e.properties.address){var t=e.properties.address[0];semapps.map.pins[e.uri]?semapps.map.pinShowOne(e.uri):semapps.getAddressToCreatePoint(t,e.title,e.properties.type[0],e.uri)}var i=document.createElement("semapps-detail-"+semapps.entities[e.properties.type].nameType.toLowerCase());this.child=i,this.id=e.id,i.data=e,i.parent=this;var a=document.getElementById("semapps-detail-inner");a.innerHTML="",a.appendChild(i),this.loading=!1}});
//# sourceMappingURL=semapps-detail.min.js.map
