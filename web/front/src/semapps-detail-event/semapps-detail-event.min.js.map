{"version":3,"sources":["web/front/src/semapps-detail-event/semapps-detail-event.js"],"names":["Polymer","is","properties","handleClickDetail","e","preventDefault","semapps","goToPath","uri","window","encodeURIComponent","currentTarget","getAttribute","attached","_this","this","SemAppsCarto","ready","initElementGlobals","$","extend","data","hasInterest","organizedBy","hasParticipant","hasSubject","startDate","Date","getDate","getMonth","getFullYear","getHours","getMinutes","endDate","log","localizedBy","address","name","latitude","longitude","map","pinShowOne","onClickThematic","document","getElementById","value","target","rel","goSearch"],"mappings":"YAAAA,UACIC,GAAI,uBACJC,cAEAC,kBAJI,SAIcC,GACdA,EAAEC,iBACFC,QAAQC,SAAS,UACbC,IAAKC,OAAOC,mBAAmBN,EAAEO,cAAcC,aAAa,WAIpEC,SAXI,WAWO,GAAAC,GAAAC,IAaP,IAZAC,aAAaC,MAAM,WACfX,QAAQY,mBAARJ,KAGJK,EAAEC,OAAOL,KAAMA,KAAKM,KAAKnB,YAEzBa,KAAKO,YAAcP,KAAKM,KAAKC,YAC7BP,KAAKQ,YAAcR,KAAKM,KAAKE,YAC7BR,KAAKS,eAAiBT,KAAKM,KAAKnB,WAAWsB,eAC3CT,KAAKU,WAAaV,KAAKM,KAAKI,WAGxBV,KAAKW,UAAW,CAChB,GAAIA,GAAY,GAAIC,MAAKZ,KAAKW,UAC9BX,MAAKW,UAAYA,EAAUE,UAAY,KAAOF,EAAUG,WAAa,GAAK,IAAMH,EAAUI,cAAgB,IAAMJ,EAAUK,WAAa,MAAQL,EAAUM,aAAe,OAE5K,GAAIjB,KAAKkB,QAAS,CACd,GAAIA,GAAU,GAAIN,MAAKZ,KAAKkB,QAC5BlB,MAAKkB,QAAUA,EAAQL,UAAY,KAAOK,EAAQJ,WAAa,GAAK,IAAMI,EAAQH,cAAgB,IAAMG,EAAQF,WAAa,MAAQE,EAAQD,aAAe,OAIhK,GAFAE,IAAInB,KAAKM,KAAKc,aAEe,OAA1BpB,KAAKM,KAAKc,YAAsB,CAC/BD,IAAI,WACJA,IAAInB,KAAKM,KAAKc,YAAYC,QAAQ,IAClCF,IAAInB,KAAKM,KAAKc,YAAYC,QAAQ,GAAG5B,KACrC0B,IAAInB,KAAKM,KAAKc,YAAYC,QAAQ,GAAGC,MACrCH,IAAInB,KAAKM,KAAKc,YAAYC,QAAQ,GAAGE,UACrCJ,IAAInB,KAAKM,KAAKc,YAAYC,QAAQ,GAAGG,UACrC,IAAIH,GAAUrB,KAAKM,KAAKc,YAAYC,QAAQ,EAC5C9B,SAAQkC,IAAIC,WAAWL,EAAQE,SAASF,EAAQG,UAAWH,EAAQ5B,IAAK4B,EAAQ5B,IAAM,OAAQ4B,EAAQC,QAK9GK,gBA/CI,SA+CYtC,GACZA,EAAEC,iBACsBsC,SAASC,eAAe,qBAC9BC,MAAQzC,EAAE0C,OAAOC,IACnCzC,QAAQ0C","file":"semapps-detail-event.min.js","sourcesContent":["Polymer({\r\n    is: 'semapps-detail-event',\r\n    properties: {},\r\n\r\n    handleClickDetail(e) {\r\n        e.preventDefault();\r\n        semapps.goToPath('detail', {\r\n            uri: window.encodeURIComponent(e.currentTarget.getAttribute('rel'))\r\n        });\r\n    },\r\n\r\n    attached() {\r\n        SemAppsCarto.ready(() => {\r\n            semapps.initElementGlobals(this);\r\n        });\r\n        // Raw values.\r\n        $.extend(this, this.data.properties);\r\n        //this.representedBy = this.data.representedBy;\r\n        this.hasInterest = this.data.hasInterest;\r\n        this.organizedBy = this.data.organizedBy;\r\n        this.hasParticipant = this.data.properties.hasParticipant;\r\n        this.hasSubject = this.data.hasSubject;\r\n\r\n        //this.buildingTitle = semapps.buildings[this.data.properties.building].title;\r\n        if (this.startDate) {\r\n            let startDate = new Date(this.startDate);\r\n            this.startDate = startDate.getDate() + '/' + (startDate.getMonth() + 1) + '/' + startDate.getFullYear() + ' ' + startDate.getHours() + ' H ' + startDate.getMinutes() + ' min';\r\n        }\r\n        if (this.endDate) {\r\n            let endDate = new Date(this.endDate);\r\n            this.endDate = endDate.getDate() + '/' + (endDate.getMonth() + 1) + '/' + endDate.getFullYear() + ' ' + endDate.getHours() + ' H ' + endDate.getMinutes() + ' min';\r\n        }\r\n        log(this.data.localizedBy);\r\n\r\n        if(this.data.localizedBy !== null ){\r\n            log('hello !');\r\n            log(this.data.localizedBy.address[0]);\r\n            log(this.data.localizedBy.address[0].uri);\r\n            log(this.data.localizedBy.address[0].name);\r\n            log(this.data.localizedBy.address[0].latitude);\r\n            log(this.data.localizedBy.address[0].longitude);\r\n            let address = this.data.localizedBy.address[0];\r\n            semapps.map.pinShowOne(address.latitude,address.longitude, address.uri, address.uri + ' -> '+ address.name);\r\n        }\r\n\r\n    },\r\n\r\n    onClickThematic(e){\r\n        e.preventDefault();\r\n        let searchThemeFilter = document.getElementById('searchThemeFilter');\r\n        searchThemeFilter.value = e.target.rel;\r\n        semapps.goSearch();\r\n    }\r\n\r\n});\r\n"]}