{"version":3,"sources":["web/front/src/semapps-detail-event/semapps-detail-event.js"],"names":["Polymer","is","properties","handleClickDetail","e","preventDefault","semapps","goToPath","uri","window","encodeURIComponent","currentTarget","getAttribute","attached","_this","this","SemAppsCarto","ready","initElementGlobals","$","extend","data","hasInterest","organizedBy","hasParticipant","hasSubject","allowUri","detail","canEdit","isMember","addressTitle","address","addressSplit","split","i","length","isNaN","complementAddress","startDate","Date","getDate","getMonth","getFullYear","getHours","getMinutes","endDate","onClickThematic","document","getElementById","value","target","rel","goSearch","handleClickRessource","person"],"mappings":"YAAAA,UACIC,GAAI,uBACJC,cAEAC,kBAJI,SAIcC,GACdA,EAAEC,iBACFC,QAAQC,SAAS,UACbC,IAAKC,OAAOC,mBAAmBN,EAAEO,cAAcC,aAAa,WAIpEC,SAXI,WAWO,GAAAC,GAAAC,IAaP,IAZAC,aAAaC,MAAM,WACfX,QAAQY,mBAARJ,KAGJK,EAAEC,OAAOL,KAAMA,KAAKM,KAAKnB,YAEzBa,KAAKO,YAAcP,KAAKM,KAAKC,YAC7BP,KAAKQ,YAAcR,KAAKM,KAAKE,YAC7BR,KAAKS,eAAiBT,KAAKM,KAAKnB,WAAWsB,eAC3CT,KAAKU,WAAaV,KAAKM,KAAKI,WAC5BV,KAAKW,SAAWpB,QAAQqB,OAAOC,QAE3BtB,QAAQuB,WACRd,KAAKe,aAAef,KAAKgB,QAAQ,OAChC,CACDhB,KAAKe,aAAe,EAEpB,KAAK,GADDE,GAAejB,KAAKgB,QAAQ,GAAGE,MAAM,KAChCC,EAAIF,EAAaG,OAAO,EAAGD,GAAG,IACnCnB,KAAKe,aAAcE,EAAaE,GAAG,IAAInB,KAAKe,cACd,IAA1BM,MAAMJ,EAAaE,KAFgBA,MAS/C,GAHAnB,KAAKsB,kBAAoBtB,KAAKsB,kBAAkB,GAG5CtB,KAAKuB,UAAW,CAChB,GAAIA,GAAY,GAAIC,MAAKxB,KAAKuB,UAC9BvB,MAAKuB,UAAYA,EAAUE,UAAY,KAAOF,EAAUG,WAAa,GAAK,IAAMH,EAAUI,cAAgB,IAAMJ,EAAUK,WAAa,MAAQL,EAAUM,aAAe,OAE5K,GAAI7B,KAAK8B,QAAS,CACd,GAAIA,GAAU,GAAIN,MAAKxB,KAAK8B,QAC5B9B,MAAK8B,QAAUA,EAAQL,UAAY,KAAOK,EAAQJ,WAAa,GAAK,IAAMI,EAAQH,cAAgB,IAAMG,EAAQF,WAAa,MAAQE,EAAQD,aAAe,SAKpKE,gBAjDI,SAiDY1C,GACZA,EAAEC,iBACsB0C,SAASC,eAAe,qBAC9BC,MAAQ7C,EAAE8C,OAAOC,IACnC7C,QAAQ8C,YAEZC,qBAvDI,SAuDiBjD,GACjBA,EAAEC,iBACFC,QAAQC,SAAS,aACbC,IAAKC,OAAOC,mBAAmBN,EAAEO,cAAcC,aAAa,QAC5D0C,OAAQ7C,OAAOC,mBAAmBK,KAAKP","file":"semapps-detail-event.min.js","sourcesContent":["Polymer({\n    is: 'semapps-detail-event',\n    properties: {},\n\n    handleClickDetail(e) {\n        e.preventDefault();\n        semapps.goToPath('detail', {\n            uri: window.encodeURIComponent(e.currentTarget.getAttribute('rel'))\n        });\n    },\n\n    attached() {\n        SemAppsCarto.ready(() => {\n            semapps.initElementGlobals(this);\n        });\n        // Raw values.\n        $.extend(this, this.data.properties);\n        //this.representedBy = this.data.representedBy;\n        this.hasInterest = this.data.hasInterest;\n        this.organizedBy = this.data.organizedBy;\n        this.hasParticipant = this.data.properties.hasParticipant;\n        this.hasSubject = this.data.hasSubject;\n        this.allowUri = semapps.detail.canEdit;\n\n        if (semapps.isMember()){\n            this.addressTitle = this.address[0];\n        }else{\n            this.addressTitle = \"\";\n            let addressSplit = this.address[0].split(\" \");\n            for (let i = addressSplit.length-1; i>=0 ; i--){\n                this.addressTitle= addressSplit[i]+\" \"+this.addressTitle;\n                if (isNaN(addressSplit[i]) ===false)\n                    break;\n            }\n        }\n        this.complementAddress = this.complementAddress[0];\n        //log(this.complementAddress);\n        //this.buildingTitle = semapps.buildings[this.data.properties.building].title;\n        if (this.startDate) {\n            let startDate = new Date(this.startDate);\n            this.startDate = startDate.getDate() + '/' + (startDate.getMonth() + 1) + '/' + startDate.getFullYear() + ' ' + startDate.getHours() + ' H ' + startDate.getMinutes() + ' min';\n        }\n        if (this.endDate) {\n            let endDate = new Date(this.endDate);\n            this.endDate = endDate.getDate() + '/' + (endDate.getMonth() + 1) + '/' + endDate.getFullYear() + ' ' + endDate.getHours() + ' H ' + endDate.getMinutes() + ' min';\n        }\n\n    },\n\n    onClickThematic(e){\n        e.preventDefault();\n        let searchThemeFilter = document.getElementById('searchThemeFilter');\n        searchThemeFilter.value = e.target.rel;\n        semapps.goSearch();\n    },\n    handleClickRessource(e) {\n        e.preventDefault();\n        semapps.goToPath('ressource', {\n            uri: window.encodeURIComponent(e.currentTarget.getAttribute('rel')),\n            person: window.encodeURIComponent(this.uri)\n        });\n    },\n\n});\n"]}