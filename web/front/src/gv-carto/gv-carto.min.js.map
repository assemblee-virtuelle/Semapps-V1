{"version":3,"sources":["web/front/src/gv-carto/gv-carto.js"],"names":["Polymer","is","ready","window","log","m","console","gvc","this","location","hostname","document","body","classList","add","ajaxMultiple","buildings","start","sources","callback","ajaxCounter","allData","self","key","$","ajax","url","complete","e","JSON","parse","responseText","call"],"mappings":"YAAAA,UACEC,GAAI,WACJC,MAFM,WAMJC,OAAOC,IAAM,SAACC,GACZC,QAAQF,IAAIC,IAGdF,OAAOI,IAAMC,KAGoB,cAA7BL,OAAOM,SAASC,UAClBP,OAAOQ,SAASC,KAAKC,UAAUC,IAAI,WAGrCN,KAAKO,cACHC,UAAW,uBACVR,KAAKS,QAGVF,aAtBM,SAsBOG,EAASC,GAEpB,GAAIC,GAAc,EACdC,KACAC,EAAOd,IACX,KAAK,GAAIe,KAAOL,GACdE,IACAI,EAAEC,MACAC,IAAKR,EAAQK,GACbI,SAAU,SAAUJ,GAClB,MAAO,UAAUK,GACfR,IACAC,EAAQE,GAAOM,KAAKC,MAAMF,EAAEG,cAER,IAAhBX,GACFD,EAASa,KAAKV,EAAMD,KAGxBE,MAKRN,MA7CM,SA6CAC,GAGJd,IAAIc","file":"gv-carto.min.js","sourcesContent":["Polymer({\n  is: 'gv-carto',\n  ready() {\n    \"use strict\";\n\n    // Devel\n    window.log = (m) => {\n      console.log(m);\n    };\n\n    window.gvc = this;\n\n    // Special class for dev env.\n    if (window.location.hostname === '127.0.0.1') {\n      window.document.body.classList.add('dev-env');\n    }\n\n    this.ajaxMultiple({\n      buildings: 'webservice/building'\n    }, this.start);\n  },\n\n  ajaxMultiple(sources, callback) {\n    \"use strict\";\n    var ajaxCounter = 0;\n    var allData = {};\n    var self = this;\n    for (var key in sources) {\n      ajaxCounter++;\n      $.ajax({\n        url: sources[key],\n        complete: function (key) {\n          return function (e) {\n            ajaxCounter--;\n            allData[key] = JSON.parse(e.responseText);\n            // Final callback.\n            if (ajaxCounter === 0) {\n              callback.call(self, allData);\n            }\n          }\n        }(key)\n      });\n    }\n  },\n\n  start(sources) {\n    \"use strict\";\n\n    log(sources);\n  }\n});\n"]}