{"version":3,"sources":["web/front/src/gv-logo-animated/gv-logo-animated.js"],"names":["Polymer","is","attached","this","pathCounter","styleSheet","document","createElement","head","appendChild","animatePaths","animatePathShadowItem","bind","$","createStrippedBackground","$svg","barHeight","barCount","delay","wait","$bar","createElementNS","attr","append","selector","animation","paths","querySelectorAll","animationDelay","animationIsFunction","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","path","value","length","getTotalLength","style","strokeDasharray","strokeDashoffset","err","return","sheet","insertRule","cssRules","rules"],"mappings":"YAAAA,UACEC,GAAI,mBAEJC,SAAU,WACRC,KAAKC,YAAc,EACnBD,KAAKE,WAAaC,SAASC,cAAc,SACzCD,SAASE,KAAKC,YAAYN,KAAKE,YAC/BF,KAAKO,aAAa,aAAc,sDAAuD,KACvFP,KAAKO,aAAa,eAAgBP,KAAKQ,sBAAsBC,KAAKT,MAAO,KACzEU,EAAEV,KAAKW,yBAAyBF,KAAKT,QAGvCW,yBAZM,WAmBJ,IANA,GAAIC,GAAOF,EAAE,sCACTG,EAAY,EACZC,EAAW,EACXC,EAAQ,IACRC,EAAO,IAEJF,EAAWD,EAAY,KAAK,CACjCC,GACA,IAAIG,GAAOP,EAAEP,SAASe,gBAAgB,6BAA8B,QACpED,GAAKE,KAAK,QAAS,QACnBF,EAAKE,KAAK,SAAUN,EAAY,KAChCI,EAAKE,KAAK,OAAQ,WAClBF,EAAKE,KAAK,SAAU,WACpBF,EAAKE,KAAK,eAAgB,MAC1BF,EAAKE,KAAK,QAAS,gBACnBF,EAAKE,KAAK,QAAU,oBAAsBH,EAAQF,EAAWC,GAAU,KAGvEE,EAAKE,KAAK,KAAOL,EAAW,GAAKD,EAAa,KAE9CD,EAAKQ,OAAOH,EAAK,MAIrBV,aAAc,SAAUc,EAAUC,EAAWP,GAC3C,GAAIQ,GAAQvB,KAAKwB,iBAAiBH,GAC9BI,EAAiB,EACjBC,EAA2C,kBAAdJ,GAHiBK,GAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAIlD,IAAA,GAAAC,GAAAC,EAAiBT,EAAjBU,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAwB,CAAA,GAAfU,GAAeN,EAAAO,MAClBC,EAASF,EAAKG,gBAClBH,GAAKI,MAAMC,gBAAkBH,EAC7BF,EAAKI,MAAME,iBAAmBJ,EAC1Bb,EACFJ,EAAUe,EAAME,GAGhBF,EAAKI,MAAMnB,UAAYA,EAEzBe,EAAKI,MAAMhB,eAAiBA,EAAiB,IAC7CA,GAAkBV,GAf8B,MAAA6B,GAAAhB,GAAA,EAAAC,EAAAe,EAAA,QAAA,KAAAjB,GAAAK,EAAAa,QAAAb,EAAAa,SAAA,QAAA,GAAAjB,EAAA,KAAAC,MAmBpDrB,sBAAuB,SAAU6B,EAAME,GACrC,GAAIO,GAAQ9C,KAAKE,WAAW4C,KAC5BA,GAAMC,WAAW,2CACuB/C,KAAKC,YAAc,8DAEtBsC,EAAS,8JAMRA,EAAS,+CAGnCO,EAAME,UAAYF,EAAMG,OAAOV,QAC3CF,EAAKI,MAAMnB,UAAY,oBAAsBtB,KAAKC,YAAc,2CAChED,KAAKC","file":"gv-logo-animated.min.js","sourcesContent":["Polymer({\n  is: 'gv-logo-animated',\n\n  attached: function () {\n    this.pathCounter = 0;\n    this.styleSheet = document.createElement('style');\n    document.head.appendChild(this.styleSheet);\n    this.animatePaths('#TEXT path', 'displayPath 1s cubic-bezier(.36,.34,.29,1) forwards', 0.08);\n    this.animatePaths('#SHADOW path', this.animatePathShadowItem.bind(this), 0.05);\n    $(this.createStrippedBackground.bind(this));\n  },\n\n  createStrippedBackground () {\n    let $svg = $('#gv-logo-animated-inner-background');\n    let barHeight = 6; // %\n    let barCount = 0;\n    let delay = .03;\n    let wait = 1.2;\n\n    while (barCount * barHeight < 100) {\n      barCount++;\n      let $bar = $(document.createElementNS(\"http://www.w3.org/2000/svg\", 'rect'));\n      $bar.attr('width', 100 + '%');\n      $bar.attr('height', barHeight + '%');\n      $bar.attr('fill', '#FFCC00');\n      $bar.attr('stroke', '#FFCC00');\n      $bar.attr('stroke-width', '10');\n      $bar.attr('class', 'logoIntroBar');\n      $bar.attr('style' , 'animation-delay:' + (wait + (barCount * delay)) + 's');\n\n      // Position\n      $bar.attr('y', ((barCount - 1) * barHeight) + '%');\n\n      $svg.append($bar[0])\n    }\n  },\n\n  animatePaths: function (selector, animation, delay) {\n    var paths = this.querySelectorAll(selector);\n    var animationDelay = 0;\n    var animationIsFunction = typeof animation === 'function';\n    for (var path of paths) {\n      var length = path.getTotalLength();\n      path.style.strokeDasharray = length;\n      path.style.strokeDashoffset = length;\n      if (animationIsFunction) {\n        animation(path, length);\n      }\n      else {\n        path.style.animation = animation;\n      }\n      path.style.animationDelay = animationDelay + 's';\n      animationDelay += delay;\n    }\n  },\n\n  animatePathShadowItem: function (path, length) {\n    let sheet = this.styleSheet.sheet;\n    sheet.insertRule('\\\n            @keyframes displayPathShadow' + this.pathCounter + ' {\\\n                0% {\\\n                  stroke-dashoffset: ' + length + ';\\\n                }\\\n                50% {\\\n                  stroke-dashoffset: 0;\\\n                }\\\n                100% {\\\n                  stroke-dashoffset: ' + -length + ';\\\n                }\\\n            }\\\n            ', (sheet.cssRules || sheet.rules).length);\n    path.style.animation = 'displayPathShadow' + this.pathCounter + ' 1s cubic-bezier(.36,.34,.29,1) forwards';\n    this.pathCounter++;\n  }\n});\n"]}