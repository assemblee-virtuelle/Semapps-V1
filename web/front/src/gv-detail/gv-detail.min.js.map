{"version":3,"sources":["web/front/src/gv-detail/gv-detail.js"],"names":["Polymer","is","properties","id","String","title","description","route","type","Object","observer","_routeChanged","data","_this","this","prefix","__queryParams","uri","GVCarto","ready","detailLoad","attached","domLoadingSpinner","gvc","domId","encodedUri","_this2","style","display","$","detail","ajax","url","dataType","complete","detailLoadComplete","inner","document","createElement","domInner","getElementById","innerHTML","appendChild"],"mappings":"YAAAA,UACEC,GAAI,YACJC,YACEC,GAAIC,OACJC,MAAOD,OACPE,YAAaF,OACbG,OACEC,KAAMC,OACNC,SAAU,kBAIdC,cAAe,SAAUC,GAAM,GAAAC,GAAAC,IACT,aAAhBF,EAAKG,QACPH,EAAKI,eACLJ,EAAKI,cAAcC,KAEnBC,QAAQC,MAAM,WACZN,EAAKO,WAAWR,EAAKI,cAAcC,QAKzCI,SAAS,WAEPP,KAAKQ,kBAAoBC,IAAIC,MAAM,kBAGrCJ,WAAY,SAAUK,GAAY,GAAAC,GAAAZ,IAGhCA,MAAKQ,kBAAkBK,MAAMC,QAAU,QAEvCd,KAAKe,EAAEC,OAAOH,MAAMC,QAAU,OAE9BC,EAAEE,MACAC,IAAK,0BAA4BP,EACjCQ,SAAU,OACVC,SAAU,SAACtB,GAGTc,EAAKS,mBAAmBvB,OAK9BuB,mBAAoB,SAAUvB,GAG5BE,KAAKe,EAAEC,OAAOH,MAAMC,QAAU,GAE9Bd,KAAKQ,kBAAkBK,MAAMC,QAAU,MAEvC,IAAIQ,GAAQC,SAASC,cAAc,yBACnCF,GAAMxB,KAAOA,CACb,IAAI2B,GAAWF,SAASG,eAAe,kBACvCD,GAASE,UAAY,GACrBF,EAASG,YAAYN","file":"gv-detail.min.js","sourcesContent":["Polymer({\r\n  is: 'gv-detail',\r\n  properties: {\r\n    id: String,\r\n    title: String,\r\n    description: String,\r\n    route: {\r\n      type: Object,\r\n      observer: '_routeChanged'\r\n    }\r\n  },\r\n\r\n  _routeChanged: function (data) {\r\n    if (data.prefix === '/detail' &&\r\n      data.__queryParams &&\r\n      data.__queryParams.uri) {\r\n      // Wait main object to be ready.\r\n      GVCarto.ready(() => {\r\n        this.detailLoad(data.__queryParams.uri);\r\n      });\r\n    }\r\n  },\r\n\r\n  attached:function() {\r\n    \"use strict\";\r\n    this.domLoadingSpinner = gvc.domId('detailSpinner');\r\n  },\r\n\r\n  detailLoad: function (encodedUri) {\r\n    \"use strict\";\r\n    // Show spinner.\r\n    this.domLoadingSpinner.style.display = 'block';\r\n    // Hide content.\r\n    this.$.detail.style.display = 'none';\r\n    // Request server.\r\n    $.ajax({\r\n      url: '/webservice/detail?uri=' + encodedUri,\r\n      dataType: 'json',\r\n      complete: (data) => {\r\n        \"use strict\";\r\n        // Check that we are on the last callback expected.\r\n        this.detailLoadComplete(data)\r\n      }\r\n    });\r\n  },\r\n\r\n  detailLoadComplete: function (data) {\r\n    \"use strict\";\r\n    // Show detail content.\r\n    this.$.detail.style.display = '';\r\n    // Hide spin.\r\n    this.domLoadingSpinner.style.display = 'none';\r\n    // Create inner depending of type.\r\n    let inner = document.createElement('gv-detail-organization');\r\n    inner.data = data;\r\n    let domInner = document.getElementById('gv-detail-inner');\r\n    domInner.innerHTML = '';\r\n    domInner.appendChild(inner);\r\n  }\r\n});\r\n"]}