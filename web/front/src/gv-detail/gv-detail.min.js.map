{"version":3,"sources":["web/front/src/gv-detail/gv-detail.js"],"names":["Polymer","is","properties","id","String","title","description","route","type","Object","observer","_routeChanged","data","_this","this","prefix","__queryParams","uri","GVCarto","ready","detailLoad","encodedUri","_this2","gvc","loadingPageContentStart","$","detail","style","display","ajax","url","dataType","complete","detailLoadComplete","loadingPageContentStop","log","responseJSON","fields","sfClient","sortFormFields","getFirstFieldValue"],"mappings":"YAAAA,UACEC,GAAI,YACJC,YACEC,GAAIC,OACJC,MAAOD,OACPE,YAAaF,OACbG,OACEC,KAAMC,OACNC,SAAU,kBAIdC,cAAe,SAAUC,GAAM,GAAAC,GAAAC,IACT,aAAhBF,EAAKG,QACPH,EAAKI,eACLJ,EAAKI,cAAcC,KAEnBC,QAAQC,MAAM,WACZN,EAAKO,WAAWR,EAAKI,cAAcC,QAKzCG,WAAY,SAAUC,GAAY,GAAAC,GAAAR,IAGhCS,KAAIC,0BAEJV,KAAKW,EAAEC,OAAOC,MAAMC,QAAU,OAE9BH,EAAEI,MACAC,IAAK,0BAA4BT,EACjCU,SAAU,OACVC,SAAU,SAACpB,GAGTU,EAAKW,mBAAmBrB,OAK9BqB,mBAAoB,SAAUrB,GAG5BE,KAAKW,EAAEC,OAAOC,MAAMC,QAAU,GAE9BL,IAAIW,yBACJC,IAAIvB,EAAKwB,aAAaV,OACtB,IAAIW,GAASd,IAAIe,SAASC,eAAe3B,EAAKwB,aAAaV,OAC3DS,KAAIZ,IAAIe,SAASE,mBAAmB,sCAAuCH","file":"gv-detail.min.js","sourcesContent":["Polymer({\n  is: 'gv-detail',\n  properties: {\n    id: String,\n    title: String,\n    description: String,\n    route: {\n      type: Object,\n      observer: '_routeChanged'\n    }\n  },\n\n  _routeChanged: function (data) {\n    if (data.prefix === '/detail' &&\n      data.__queryParams &&\n      data.__queryParams.uri) {\n      // Wait main object to be ready.\n      GVCarto.ready(() => {\n        this.detailLoad(data.__queryParams.uri);\n      });\n    }\n  },\n\n  detailLoad: function (encodedUri) {\n    \"use strict\";\n    // Show spin.\n    gvc.loadingPageContentStart();\n    // Hide content.\n    this.$.detail.style.display = 'none';\n    // Request server.\n    $.ajax({\n      url: '/webservice/detail?uri=' + encodedUri,\n      dataType: 'json',\n      complete: (data) => {\n        \"use strict\";\n        // Check that we are on the last callback expected.\n        this.detailLoadComplete(data)\n      }\n    });\n  },\n\n  detailLoadComplete: function (data) {\n    \"use strict\";\n    // Show detail content.\n    this.$.detail.style.display = '';\n    // Hide spin.\n    gvc.loadingPageContentStop();\n    log(data.responseJSON.detail);\n    let fields = gvc.sfClient.sortFormFields(data.responseJSON.detail);\n    log(gvc.sfClient.getFirstFieldValue('http://xmlns.com/foaf/0.1/givenName', fields));\n  }\n});\n"]}