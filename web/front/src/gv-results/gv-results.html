<dom-module id="gv-results">
  <link rel="import" type="css" href="gv-results.css">
  <link rel="import" href="../gv-results-item/gv-results-item.html">
  <link rel="import" href="../gv-spinner/gv-spinner.html">
  <template>
    <div class="row">
      <div class="col col-sm-12">
        <ul id="searchTabs" class="nav nav-tabs">
          <li role="presentation" class="active">
            <a href="#">
              <span class="glyphicon glyphicon-th-list"></span>Tout
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div id="gv-results-error" class="alert alert-danger">Une erreur s'est produite lors du chargement...</div>
    <gv-spinner></gv-spinner>
    <div id="searchResults" class="col col-sm-12"></div>
    <div class="clearfix"></div>
  </template>
  <script>
    Polymer({
      is: 'gv-results',
      properties: {
        route: {
          type: Object,
          observer: '_routeChanged'
        }
      },

      _routeChanged: function (data) {
        if (data.prefix === '/search') {
          window.GVCarto.ready(function () {
           /* var building = data.path.slice(1);
            var term = data.path.slice(2);
            window.gvc.search(term, {
              building: building
            });*/
          }.bind(this));
        }
      }
    });
  </script>
</dom-module>
