{"version":3,"sources":["web/front/src/gv-results/gv-results.js"],"names":["Polymer","is","tabsTypes","All","Person","Organization","properties","route","type","Object","observer","isActiveAll","isActiveOrganization","isActivePerson","attached","_this","this","GVCarto","ready","setSearchType","tab","reload","undefined","gvc","searchType","activeCurrent","renderSearchResult","_routeChanged","data","split","path","prefix","window","searchRouteChange"],"mappings":"YAAAA,UACEC,GAAI,aACJC,WACEC,KAAO,EACPC,OAAU,WACVC,aAAgB,gBAElBC,YACEC,OACEC,KAAMC,OACNC,SAAU,iBAEZC,YAAa,GACbC,qBAAsB,GACtBC,eAAgB,IAGlBC,SAjBM,WAiBK,GAAAC,GAAAC,IAGTC,SAAQC,MAAM,WAGZH,EAAKI,cAAc,OAAO,MAI9BA,cA3BM,SA2BQC,EAAKC,GAGjBA,EAAoBC,SAAXD,GAAuBA,EAEhCE,IAAIC,WAAaR,KAAKd,UAAUkB,GAE5BJ,KAAKS,gBACPT,KAAK,WAAaA,KAAKS,eAAiB,IAE1CT,KAAKS,cAAgBL,EACrBJ,KAAK,WAAaA,KAAKS,eAAiB,SAExCJ,GAAUE,IAAIG,sBAGhBC,cAAe,SAAUC,GACvB,GAAIC,GAAQD,EAAKE,KAAKD,MAAM,IAER,iBAAhBD,EAAKG,QAEPC,OAAOf,QAAQC,MAAM,WACnBc,OAAOT,IAAIU,kBAAkBJ,EAAM,GAAIA,EAAM","file":"gv-results.min.js","sourcesContent":["Polymer({\n  is: 'gv-results',\n  tabsTypes: {\n    'All': true,\n    'Person': 'Personne',\n    'Organization': 'Organisation'\n  },\n  properties: {\n    route: {\n      type: Object,\n      observer: '_routeChanged'\n    },\n    isActiveAll: '',\n    isActiveOrganization: '',\n    isActivePerson: ''\n  },\n\n  attached() {\n    \"use strict\";\n\n    GVCarto.ready(() => {\n      // First time we activate tab,\n      // but we don't need to reload results.\n      this.setSearchType('All', false);\n    });\n  },\n\n  setSearchType(tab, reload) {\n    \"use strict\";\n    // True by default.\n    reload = reload !== undefined ? reload : true;\n    // Configure gvc.\n    gvc.searchType = this.tabsTypes[tab];\n    // Enable tab.\n    if (this.activeCurrent) {\n      this['isActive' + this.activeCurrent] = '';\n    }\n    this.activeCurrent = tab;\n    this['isActive' + this.activeCurrent] = 'active';\n    // Reload render results.\n    reload && gvc.renderSearchResult();\n  },\n\n  _routeChanged: function (data) {\n    let split = data.path.split('/');\n    // We are on the search mode.\n    if (data.prefix === '/rechercher') {\n      // Route change may be fired before init.\n      window.GVCarto.ready(() => {\n        window.gvc.searchRouteChange(split[2], split[2]);\n      });\n    }\n  }\n});\n"]}