{"version":3,"sources":["web/front/src/gv-detail-event/gv-detail-event.js"],"names":["Polymer","is","properties","handleClickDetail","e","preventDefault","gvc","goToPath","uri","window","encodeURIComponent","currentTarget","getAttribute","attached","_this","this","GVCarto","ready","initElementGlobals","$","extend","data","topicInterest","resourceNeeded","resourceProposed","image","buildingTitle","buildings","building","title","eventBegin","Date","getDate","getMonth","getFullYear","getHours","getMinutes","eventEnd","onClickThematic","document","getElementById","value","target","rel","goSearch"],"mappings":"YAAAA,UACIC,GAAI,kBACJC,cAEAC,kBAJI,SAIcC,GACdA,EAAEC,iBACFC,IAAIC,SAAS,UACTC,IAAKC,OAAOC,mBAAmBN,EAAEO,cAAcC,aAAa,WAIpEC,SAXI,WAWO,GAAAC,GAAAC,IAWP,IAVAC,QAAQC,MAAM,WACVX,IAAIY,mBAAJJ,KAGJK,EAAEC,OAAOL,KAAMA,KAAKM,KAAKnB,YACzBa,KAAKO,cAAgBP,KAAKM,KAAKC,cAC/BP,KAAKQ,eAAiBR,KAAKM,KAAKE,eAChCR,KAAKS,iBAAmBT,KAAKM,KAAKG,iBAClCT,KAAKU,MAAQV,KAAKM,KAAKnB,WAAWuB,MAClCV,KAAKW,cAAgBpB,IAAIqB,UAAUZ,KAAKM,KAAKnB,WAAW0B,UAAUC,MAC9Dd,KAAKe,WAAY,CACjB,GAAIA,GAAa,GAAIC,MAAKhB,KAAKe,WAC/Bf,MAAKe,WAAaA,EAAWE,UAAY,KAAOF,EAAWG,WAAa,GAAK,IAAMH,EAAWI,cAAgB,IAAMJ,EAAWK,WAAa,MAAQL,EAAWM,aAAe,OAElL,GAAIrB,KAAKsB,SAAU,CACf,GAAIA,GAAW,GAAIN,MAAKhB,KAAKsB,SAC7BtB,MAAKsB,SAAWA,EAASL,UAAY,KAAOK,EAASJ,WAAa,GAAK,IAAMI,EAASH,cAAgB,IAAMG,EAASF,WAAa,MAAQE,EAASD,aAAe,SAI1KE,gBAhCI,SAgCYlC,GACZA,EAAEC,iBACsBkC,SAASC,eAAe,qBAC9BC,MAAQrC,EAAEsC,OAAOC,IACnCrC,IAAIsC","file":"gv-detail-event.min.js","sourcesContent":["Polymer({\r\n    is: 'gv-detail-event',\r\n    properties: {},\r\n\r\n    handleClickDetail(e) {\r\n        e.preventDefault();\r\n        gvc.goToPath('detail', {\r\n            uri: window.encodeURIComponent(e.currentTarget.getAttribute('rel'))\r\n        });\r\n    },\r\n\r\n    attached() {\r\n        GVCarto.ready(() => {\r\n            gvc.initElementGlobals(this);\r\n        });\r\n        // Raw values.\r\n        $.extend(this, this.data.properties);\r\n        this.topicInterest = this.data.topicInterest;\r\n        this.resourceNeeded = this.data.resourceNeeded;\r\n        this.resourceProposed = this.data.resourceProposed;\r\n        this.image = this.data.properties.image;\r\n        this.buildingTitle = gvc.buildings[this.data.properties.building].title;\r\n        if (this.eventBegin) {\r\n            let eventBegin = new Date(this.eventBegin);\r\n            this.eventBegin = eventBegin.getDate() + '/' + (eventBegin.getMonth() + 1) + '/' + eventBegin.getFullYear() + ' ' + eventBegin.getHours() + ' H ' + eventBegin.getMinutes() + ' min';\r\n        }\r\n        if (this.eventEnd) {\r\n            let eventEnd = new Date(this.eventEnd);\r\n            this.eventEnd = eventEnd.getDate() + '/' + (eventEnd.getMonth() + 1) + '/' + eventEnd.getFullYear() + ' ' + eventEnd.getHours() + ' H ' + eventEnd.getMinutes() + ' min';\r\n        }\r\n    },\r\n\r\n    onClickThematic(e){\r\n        e.preventDefault();\r\n        let searchThemeFilter = document.getElementById('searchThemeFilter');\r\n        searchThemeFilter.value = e.target.rel;\r\n        gvc.goSearch();\r\n    }\r\n\r\n});\r\n"]}