{"version":3,"sources":["web/front/src/semapps-logo-animated/semapps-logo-animated.js"],"names":["Polymer","is","attached","this","pathCounter","styleSheet","document","createElement","head","appendChild","animatePaths","animatePathShadowItem","bind","$","createStrippedBackground","setTimeout","css","$svg","barCount","$bar","createElementNS","attr","barHeight","append","selector","animation","delay","paths","querySelectorAll","animationDelay","animationIsFunction","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","path","value","length","getTotalLength","style","strokeDasharray","strokeDashoffset","err","return","sheet","insertRule"],"mappings":"YAAAA,UACEC,GAAI,wBAEJC,SAAU,WACRC,KAAKC,YAAc,EACnBD,KAAKE,WAAaC,SAASC,cAAc,SACzCD,SAASE,KAAKC,YAAYN,KAAKE,YAC/BF,KAAKO,aAAa,aAAc,sDAAuD,KACvFP,KAAKO,aAAa,eAAgBP,KAAKQ,sBAAsBC,KAAKT,MAAO,KACzEU,EAAEV,KAAKW,yBAAyBF,KAAKT,OAGrCY,WAAW,WAETF,EAAE,gCAAgCG,IAAI,UAAW,SAChD,MAGLF,yBAlBM,WAyBJ,IANA,GAAIG,GAAOJ,EAAE,2CAETK,EAAW,EADC,EAKTA,EAAuB,KAAK,CACjCA,GACA,IAAIC,GAAON,EAAEP,SAASc,gBAAgB,6BAA8B,QACpED,GAAKE,KAAK,QAAS,QACnBF,EAAKE,KAAK,SAAUC,MACpBH,EAAKE,KAAK,OAAQ,WAClBF,EAAKE,KAAK,SAAU,WACpBF,EAAKE,KAAK,eAAgB,MAC1BF,EAAKE,KAAK,QAAS,gBACnBF,EAAKE,KAAK,QAAS,oBAXV,IADC,IAYuCH,GAAqB,KAGtEC,EAAKE,KAAK,IAjBI,GAiBGH,EAAW,GAAkB,KAE9CD,EAAKM,OAAOJ,EAAK,MAIrBT,aAAc,SAAUc,EAAUC,EAAWC,GAC3C,GAAIC,GAAQxB,KAAKyB,iBAAiBJ,GAC9BK,EAAiB,EACjBC,EAA2C,kBAAdL,GAHiBM,GAAA,EAAAC,GAAA,EAAAC,MAAAC,EAAA,KAIlD,IAAA,GAAAC,GAAAC,EAAiBT,EAAjBU,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAwB,CAAA,GAAfU,GAAeN,EAAAO,MAClBC,EAASF,EAAKG,gBAClBH,GAAKI,MAAMC,gBAAkBH,EAC7BF,EAAKI,MAAME,iBAAmBJ,EAC1Bb,EACFL,EAAUgB,EAAME,GAGhBF,EAAKI,MAAMpB,UAAYA,EAEzBgB,EAAKI,MAAMhB,eAAiBA,EAAiB,IAC7CA,GAAkBH,GAf8B,MAAAsB,GAAAhB,GAAA,EAAAC,EAAAe,EAAA,QAAA,KAAAjB,GAAAK,EAAAa,QAAAb,EAAAa,SAAA,QAAA,GAAAjB,EAAA,KAAAC,MAmBpDtB,sBAAuB,SAAU8B,EAAME,GACrC,GAAIO,GAAQ/C,KAAKE,WAAW6C,KAC5BA,GAAMC,WAAW","file":"semapps-logo-animated.min.js","sourcesContent":["Polymer({\r\n  is: 'semapps-logo-animated',\r\n\r\n  attached: function () {\r\n    this.pathCounter = 0;\r\n    this.styleSheet = document.createElement('style');\r\n    document.head.appendChild(this.styleSheet);\r\n    this.animatePaths('#TEXT path', 'displayPath 1s cubic-bezier(.36,.34,.29,1) forwards', 0.08);\r\n    this.animatePaths('#SHADOW path', this.animatePathShadowItem.bind(this), 0.05);\r\n    $(this.createStrippedBackground.bind(this));\r\n\r\n    // Two seconds max.\r\n    setTimeout(() => {\r\n      \"use strict\";\r\n      $('#semapps-logo-animated-inner').css('display', 'none');\r\n    }, 3000);\r\n  },\r\n\r\n  createStrippedBackground () {\r\n    let $svg = $('#semapps-logo-animated-inner-background');\r\n    let barHeight = 6; // %\r\n    let barCount = 0;\r\n    let delay = .03;\r\n    let wait = 1.2;\r\n\r\n    while (barCount * barHeight < 100) {\r\n      barCount++;\r\n      let $bar = $(document.createElementNS(\"http://www.w3.org/2000/svg\", 'rect'));\r\n      $bar.attr('width', 100 + '%');\r\n      $bar.attr('height', barHeight + '%');\r\n      $bar.attr('fill', '#1e90ff');\r\n      $bar.attr('stroke', '#1e90ff');\r\n      $bar.attr('stroke-width', '10');\r\n      $bar.attr('class', 'logoIntroBar');\r\n      $bar.attr('style', 'animation-delay:' + (wait + (barCount * delay)) + 's');\r\n\r\n      // Position\r\n      $bar.attr('y', ((barCount - 1) * barHeight) + '%');\r\n\r\n      $svg.append($bar[0])\r\n    }\r\n  },\r\n\r\n  animatePaths: function (selector, animation, delay) {\r\n    var paths = this.querySelectorAll(selector);\r\n    var animationDelay = 0;\r\n    var animationIsFunction = typeof animation === 'function';\r\n    for (var path of paths) {\r\n      var length = path.getTotalLength();\r\n      path.style.strokeDasharray = length;\r\n      path.style.strokeDashoffset = length;\r\n      if (animationIsFunction) {\r\n        animation(path, length);\r\n      }\r\n      else {\r\n        path.style.animation = animation;\r\n      }\r\n      path.style.animationDelay = animationDelay + 's';\r\n      animationDelay += delay;\r\n    }\r\n  },\r\n\r\n  animatePathShadowItem: function (path, length) {\r\n    let sheet = this.styleSheet.sheet;\r\n    sheet.insertRule('\\\r\n            @keyframes displayPathShadow' + this.pathCounter + ' {\\\r\n                0% {\\\r\n                  stroke-dashoffset: ' + length + ';\\\r\n                }\\\r\n                50% {\\\r\n                  stroke-dashoffset: 0;\\\r\n                }\\\r\n                100% {\\\r\n                  stroke-dashoffset: ' + -length + ';\\\r\n                }\\\r\n            }\\\r\n            ', (sheet.cssRules || sheet.rules).length);\r\n    path.style.animation = 'displayPathShadow' + this.pathCounter + ' 1s cubic-bezier(.36,.34,.29,1) forwards';\r\n    this.pathCounter++;\r\n  }\r\n});\r\n"]}