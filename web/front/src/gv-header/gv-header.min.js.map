{"version":3,"sources":["web/front/src/gv-header/gv-header.js"],"names":["Polymer","is","handleAccountClick","e","gvc","realLink","attached","GVCarto","ready","this","start","bind","_this","domSearchTextInput","domId","haveName","name","thesaurus","callbackSearchEvent","searchEvent","callbackSearchSubmit","blur","scrollToContent","listen","timeout","window","clearTimeout","setTimeout","preventDefault","map","buildingSelect","undefined","goSearch"],"mappings":"YAAAA,UACEC,GAAI,YAEJC,mBAHM,SAGaC,GAEjBC,IAAIC,SAASF,IAGfG,SARM,WAUJC,QAAQC,MAAMC,KAAKC,MAAMC,KAAKF,QAGhCC,MAbM,WAaE,GAAAE,GAAAH,IAENA,MAAKI,mBAAqBT,IAAIU,MAAM,cACpCL,KAAKM,SAAUX,IAAIW,WACnBN,KAAKO,KAAOZ,IAAIY,KAChBP,KAAKQ,UAAYb,IAAIa,SAErB,IAAIC,GAAsBT,KAAKU,YAAYR,KAAKF,MAC5CW,EAAuB,SAACjB,GAC1BS,EAAKC,mBAAmBQ,OACxBjB,IAAIkB,kBACJJ,EAAoBf,GAItBC,KAAImB,OAAO,aAAc,SAAUH,GACnChB,IAAImB,OAAO,oBAAqB,SAAUH,EAE1C,IAAII,OAAAA,EAEJpB,KAAImB,OAAO,aAAc,QAAS,WAC5BC,GACFC,OAAOC,aAAaF,GAGtBA,EAAUC,OAAOE,WAAWT,EAAqB,QAIrDC,YA1CM,SA0CMhB,GAEVA,GAAKA,EAAEyB,iBAEPxB,IAAIyB,IAAIC,mBAAeC,IAAW,GAElC3B,IAAI4B","file":"gv-header.min.js","sourcesContent":["Polymer({\r\n  is: 'gv-header',\r\n\r\n  handleAccountClick(e) {\r\n    \"use strict\";\r\n    gvc.realLink(e);\r\n  },\r\n\r\n  attached() {\r\n    \"use strict\";\r\n    GVCarto.ready(this.start.bind(this));\r\n  },\r\n\r\n  start() {\r\n    \"use strict\";\r\n    this.domSearchTextInput = gvc.domId('searchText');\r\n    this.haveName= gvc.haveName();\r\n    this.name = gvc.name;\r\n    this.thesaurus = gvc.thesaurus;\r\n\r\n    let callbackSearchEvent = this.searchEvent.bind(this);\r\n    let callbackSearchSubmit = (e) => {\r\n      this.domSearchTextInput.blur();\r\n      gvc.scrollToContent();\r\n      callbackSearchEvent(e);\r\n    };\r\n\r\n    // Click on submit button.\r\n    gvc.listen('searchForm', 'submit', callbackSearchSubmit);\r\n    gvc.listen('searchThemeFilter', 'change', callbackSearchSubmit);\r\n\r\n    let timeout;\r\n    // Type in search field.\r\n    gvc.listen('searchText', 'keyup', () => {\r\n      if (timeout) {\r\n        window.clearTimeout(timeout);\r\n      }\r\n      // Avoid to make too much requests when typing.\r\n      timeout = window.setTimeout(callbackSearchEvent, 500);\r\n    });\r\n  },\r\n\r\n  searchEvent(e) {\r\n    // Event may be missing.\r\n    e && e.preventDefault();\r\n    // Do not allow to have both building selected && search term.\r\n    gvc.map.buildingSelect(undefined, false);\r\n    // Load search on term.\r\n    gvc.goSearch();\r\n  }\r\n});\r\n"]}