{"version":3,"sources":["web/front/src/gv-header/gv-header.js"],"names":["Polymer","is","attached","GVCarto","ready","this","start","bind","_this","domSearchTextInput","gvc","domId","callbackSearchEvent","searchEvent","listen","e","blur","scrollToContent","timeout","window","clearTimeout","setTimeout","preventDefault","map","buildingSelect","undefined","goSearch"],"mappings":"YAAAA,UACEC,GAAI,YAEJC,SAHM,WAKJC,QAAQC,MAAMC,KAAKC,MAAMC,KAAKF,QAGhCC,MARM,WAQE,GAAAE,GAAAH,IAENA,MAAKI,mBAAqBC,IAAIC,MAAM,aAEpC,IAAIC,GAAsBP,KAAKQ,YAAYN,KAAKF,KAGhDK,KAAII,OAAO,aAAc,SAAU,SAACC,GAClCP,EAAKC,mBAAmBO,OACxBN,IAAIO,kBACJL,EAAoBG,IAGtB,IAAIG,GAAAA,MAEJR,KAAII,OAAO,aAAc,QAAS,WAC5BI,GACFC,OAAOC,aAAaF,GAGtBA,EAAUC,OAAOE,WAAWT,EAAqB,QAIrDC,YAhCM,SAgCME,GAEVA,GAAKA,EAAEO,iBAEPZ,IAAIa,IAAIC,eAAeC,QAAW,GAElCf,IAAIgB","file":"gv-header.min.js","sourcesContent":["Polymer({\n  is: 'gv-header',\n\n  attached() {\n    \"use strict\";\n    GVCarto.ready(this.start.bind(this));\n  },\n\n  start() {\n    \"use strict\";\n    this.domSearchTextInput = gvc.domId('searchText');\n\n    let callbackSearchEvent = this.searchEvent.bind(this);\n\n    // Click on submit button.\n    gvc.listen('searchForm', 'submit', (e) => {\n      this.domSearchTextInput.blur();\n      gvc.scrollToContent();\n      callbackSearchEvent(e);\n    });\n\n    let timeout;\n    // Type in search field.\n    gvc.listen('searchText', 'keyup', () => {\n      if (timeout) {\n        window.clearTimeout(timeout);\n      }\n      // Avoid to make too much requests when typing.\n      timeout = window.setTimeout(callbackSearchEvent, 500);\n    });\n  },\n\n  searchEvent(e) {\n    // Event may be missing.\n    e && e.preventDefault();\n    // Do not allow to have both building selected && search term.\n    gvc.map.buildingSelect(undefined, false);\n    // Load search on term.\n    gvc.goSearch();\n  }\n});\n"]}