"use strict";Polymer({is:"semapps-ressource",properties:{person:String,queryParams:{observer:"_queryChanged"}},_queryChanged:function(e){var s=this;e&&e.uri&&e.person&&(this.person=e.person,SemAppsCarto.ready(function(){s.ressourceLoad(e.uri,e.person)}))},attached:function(){var e=this;SemAppsCarto.ready(function(){semapps.initElementGlobals(e)})},handleBack:function(e){e.preventDefault(),semapps.goSearch()},ressourceLoad:function(e,s){var r=this;"ressource"===semapps.myRoute&&(this.loading=!0,this.$.ressource.style.display="none",semapps.ajax("webservice/ressource?uri="+e+"&person="+s,function(e){r.ressourceLoadComplete(e)}))},ressourceLoadComplete:function(e){this.$.ressource.style.display="",e=e.responseJSON.ressource||{},this.ressourcesNeeded=e.ressourcesNeeded,this.ressourcesProposed=e.ressourcesProposed,this.hasSubject=e.hasSubject,this.skill=e.skill,this.title=e.name,this.detail=e.detail;var s=this.detail.subject,r=this.detail.wikipage;this.subject=Object.keys(s).map(function(e){return{uri:e,label:s[e]}}),this.wikipage=Object.keys(r).map(function(e){return{label:r[e]}}),this.loading=!1},handleClickDetail:function(e){e.preventDefault(),semapps.goToPath("detail",{uri:window.encodeURIComponent(e.currentTarget.getAttribute("rel"))})}});
//# sourceMappingURL=semapps-ressource.min.js.map
