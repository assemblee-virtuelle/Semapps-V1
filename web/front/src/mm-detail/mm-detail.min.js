"use strict";Polymer({is:"mm-detail",properties:{id:String,title:String,description:String,queryParams:{observer:"_queryChanged"}},_queryChanged:function(e){var i=this;e&&e.uri&&GVCarto.ready(function(){i.detailLoad(e.uri)})},handleBack:function(e){e.preventDefault(),gvc.goSearch()},handleEdit:function(e){e.preventDefault();var i="/";switch(gvc.searchTypes[this.child.type].type){case"organization":i+="orga/detail/"+this.id}window.location.replace(i)},attached:function(){var e=this;GVCarto.ready(function(){gvc.initElementGlobals(e)})},detailLoad:function(e){var i=this;"detail"===gvc.myRoute&&(this.loading=!0,this.$.detail.style.display="none",gvc.ajax("webservice/detail?uri="+e,function(e){i.detailLoadComplete(e)}))},detailLoadComplete:function(e){e=e.responseJSON.detail||{},this.$.detail.style.display="",e.properties.image=gvc.imageOrFallback(e.properties.image,e.properties.type),e.properties.building?gvc.map.pinShowOne(e.properties.building,"ICI"):e.building&&gvc.map.pinShowOne(e.building,"ICI");var i=document.createElement("mm-detail-"+gvc.searchTypes[e.properties.type].type.toLowerCase());this.child=i,this.id=e.id,i.data=e,i.parent=this;var t=document.getElementById("mm-detail-inner");t.innerHTML="",t.appendChild(i),this.loading=!1}});
//# sourceMappingURL=mm-detail.min.js.map
