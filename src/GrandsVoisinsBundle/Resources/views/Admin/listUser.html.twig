{% extends '::admin.html.twig' %}

{% block pageContentTitle %}
Liste des user
{% endblock %}

{% set menuSelected = 'user' %}

{% block pageContent %}
<div class="row">
    <div class="col-sm-5">
        <table id="userDisabledManager" class="table table-bordered">
            <th colspan="5">
                <h3>Liste des utilisateurs n'ayant validé leur compte</h3>
            </th>
            <tr>
                <th class="padded-value" style="width:25%">
                    Login
                </th>
                <th class="padded-value" style="width:25%">
                    Email
                </th>
                <th class="padded-value" style="width:20%">
                    Rôle
                </th>
                <th></th>
            </tr>
            {% for user in userDisabled %}
                <tr rel="{{ user.id }}">
                    <td class="padded-value" style="width:25%">
                        {{ user.username }}
                    </td>
                    <td class="padded-value" style="width:25%">
                        {{ user.email }}
                    </td>
                    <td class="padded-value" style="width:20%">
                        {{ usersRolesLabels[user.roles[0]] }}
                    </td>
                    <td class="padded-value">
                        <a class="user-send-email" href="#" rel="{{ user.id }}">
                            <span class="glyphicon glyphicon-envelope"></span>
                        </a>
                    </td>
                </tr>

            {% endfor %}
        </table>
    </div>
    <div class="col-sm-1"></div>
    <div class="col-sm-5">
        <table id="userEnabledManager" class="table table-bordered">
            <tr >
                <th colspan="5">
                    <h3>Liste des utilisateur ayant validé leur compte</h3>
                </th>
            </tr>
            <tr>
                <th class="padded-value" style="width:25%">
                    Login
                </th>
                <th class="padded-value" style="width:25%">
                    Email
                </th>
                <th class="padded-value" style="width:10%">
                    Date dernière connexion
                </th>
                <th class="padded-value" style="width:20%">
                    Rôle
                </th>
                <th></th>
            </tr>
            {% for user in userEnabled %}
                <tr rel="{{ user.id }}">
                    <td class="padded-value" style="width:25%">
                        {{ user.username }}
                    </td>
                    <td class="padded-value" style="width:25%">
                        {{ user.email }}
                    </td>
                    <td class="padded-value" style="width:10%">
                        {% if user.lastLogin is not null %}
                            {{ user.lastLogin|date("d/m/Y") }}
                        {% endif %}
                    </td>
                    <td class="padded-value" style="width:20%">
                        {{ usersRolesLabels[user.roles[0]] }}
                    </td>

                </tr>
            {% endfor %}
        </table>
    </div>

</div>
{% endblock %}

